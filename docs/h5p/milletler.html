<!doctype html>
<html lang="fr">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Jeu — Devine la nationalité (turc)</title>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/flag-icons/6.6.6/css/flag-icons.min.css" />
<style>
  :root {
    --bg: #0a192f;
    --card: #112240;
    --text: #e6f1ff;
    --muted: #8892b0;
    --accent: #64ffda;
    --secondary: #233554;
    --border: #1d3a6b;
    --green: #2ecc71;
    --red: #e74c3c;
  }
  body {
    font-family: Inter, system-ui, -apple-system, 'Segoe UI', Roboto, Arial;
    margin: 0;
    background: var(--bg);
    color: var(--text);
    display: flex;
    align-items: center;
    justify-content: center;
    min-height: 100vh;
    padding: 20px;
  }
  .card { background: var(--card); width:100%; max-width:760px; border-radius:12px; box-shadow:0 6px 22px rgba(2,12,27,0.7); padding:24px; }
  h1 { margin:0 0 8px; font-size:1.25rem; }
  p.lead { margin:0; color:var(--muted); font-size:1rem; line-height:1.4; }
  .game { display:grid; grid-template-columns:1fr 320px; gap:16px; margin-top:18px; }
  @media (max-width:720px){ .game{grid-template-columns:1fr;} aside{display:none;} }
  .panel { padding:18px; border-radius:10px; background:rgba(23,42,69,0.5); border:1px solid var(--border); transition:background 0.3s ease; }
  .country-container { display:flex; align-items:center; gap:12px; margin-bottom:8px; }
  .flag-container { width:56px; height:56px; border-radius:50%; display:flex; align-items:center; justify-content:center; background:var(--secondary); box-shadow:0 2px 8px rgba(0,0,0,0.2); }
  .fi { border-radius:50%; font-size:28px; width:40px; height:40px; display:flex; align-items:center; justify-content:center; }
  .country { font-weight:700; font-size:1.5rem; color:var(--accent); }
  .hint { color:var(--muted); font-size:0.95rem; margin-top:6px; }
  .controls { display:flex; gap:8px; margin-top:12px; flex-wrap:wrap; }
  input[type=text]{ flex:1; padding:12px; border-radius:8px; border:1px solid var(--border); font-size:1rem; background:var(--secondary); color:var(--text); }
  input[type=text]:focus{ outline:none; border-color:var(--accent); box-shadow:0 0 0 2px rgba(100,255,218,0.2); }
  button{ background:var(--accent); color:var(--bg); border:none; padding:12px 16px; border-radius:8px; font-weight:600; cursor:pointer; transition:all 0.2s ease; }
  button:hover{ transform:translateY(-2px); box-shadow:0 4px 8px rgba(100,255,218,0.2); }
  button.secondary{ background:var(--secondary); color:var(--accent); }
  .result{ margin-top:14px; font-weight:700; font-size:1.2rem; text-align:center; min-height:28px; }
  .correct{ color:var(--green); font-size:1.3rem; }
  .wrong{ color:var(--red); font-size:1.3rem; }
  .score{ font-size:0.95rem; margin-top:8px; padding:8px 12px; background:var(--secondary); border-radius:8px; display:inline-block; }
  .list{ max-height:220px; overflow:auto; padding:8px; border-radius:8px; background:var(--secondary); border:1px solid var(--border); }
  .footer{ margin-top:14px; font-size:0.9rem; color:var(--muted); }
  /* Animations */
  .panel.correct-anim{ animation:flashGreen 0.8s ease; }
  .panel.incorrect-anim{ animation:flashRed 0.8s ease; }
  @keyframes flashGreen{0%{background:rgba(23,42,69,0.5);}30%{background:rgba(46,204,113,0.6);}100%{background:rgba(23,42,69,0.5);} }
  @keyframes flashRed{0%{background:rgba(23,42,69,0.5);}30%{background:rgba(231,76,60,0.6);}100%{background:rgba(23,42,69,0.5);} }
  .flag-container.correct-anim{ animation:bounce 0.8s ease; }
  .flag-container.incorrect-anim{ animation:shake 0.6s ease; }
  @keyframes bounce{0%,100%{transform:scale(1);}30%{transform:scale(1.3);}60%{transform:scale(0.9);} }
  @keyframes shake{0%,100%{transform:translateX(0);}20%,60%{transform:translateX(-10px);}40%,80%{transform:translateX(10px);} }
</style>
</head>
<body>
<main class="card" role="main">
  <h1>Jeu — Devine la nationalité (turc)</h1>
  <p class="lead">
    Devine la <strong>nationalité en turc</strong> à partir du pays.  
    Certaines réponses sont des mots spécifiques (ex. « Fransız » pour France),  
    d’autres se forment avec les suffixes <strong>-lı / -li / -lu / -lü</strong>, choisis selon la dernière voyelle du mot.  
    Exemple : « Amerika » → « Amerikalı ».  
  </p>

  <div class="game" aria-live="polite">
    <section class="panel" id="mainPanel">
      <div class="country-container">
        <div class="flag-container" id="flagBox"><span id="countryFlag" class="fi"></span></div>
        <div class="country" id="countryName">—</div>
      </div>
      <div class="hint" id="hintText">Indice : regarde la dernière voyelle...</div>

      <div class="controls">
        <input type="text" id="answerInput" placeholder="Écris la nationalité en turc" autocomplete="off" />
        <button id="checkBtn">Vérifier</button>
        <button class="secondary" id="skipBtn">Passer</button>
      </div>

      <div class="result" id="result"></div>
      <div class="score" id="score">Score: 0 / 0</div>
    </section>

    <aside>
      <div class="panel">

        <div style="margin-top:12px"><strong>Liste</strong></div>
        <div class="list" id="countryList"></div>
        <div style="margin-top:10px"><button id="newGame">Nouvelle série</button></div>
      </div>
    </aside>
  </div>
  <div class="footer">Petit jeu éducatif pour pratiquer les nationalités en turc.</div>
</main>

<script>
(function(){
  const pairs = [
    {country:'Fransa',nationality:'Fransız',flag:'fr'},
    {country:'Almanya',nationality:'Alman',flag:'de'},
    {country:'İspanya',nationality:'İspanyol',flag:'es'},
    {country:'İngiltere',nationality:'İngiliz',flag:'gb'},
    {country:'Amerika',nationality:'Amerikalı',flag:'us'},
    {country:'Çin',nationality:'Çinli',flag:'cn'},
    {country:'Japonya',nationality:'Japon',flag:'jp'},
    {country:'İtalya',nationality:'İtalyan',flag:'it'},
    {country:'Rusya',nationality:'Rus',flag:'ru'},
    {country:'Türkiye',nationality:'Türk',flag:'tr'},
    {country:'Yunanistan',nationality:'Yunan',flag:'gr'},
    {country:'Mısır',nationality:'Mısırlı',flag:'eg'},
    {country:'Kanada',nationality:'Kanadalı',flag:'ca'},
    {country:'Brezilya',nationality:'Brezilyalı',flag:'br'},
    {country:'Arjantin',nationality:'Arjantinli',flag:'ar'},
    {country:'Meksika',nationality:'Meksikalı',flag:'mx'},
    {country:'Kore',nationality:'Koreli',flag:'kr'},
    {country:'Hindistan',nationality:'Hintli',flag:'in'},
    {country:'İsveç',nationality:'İsveçli',flag:'se'},
    {country:'İsviçre',nationality:'İsviçreli',flag:'ch'},
    {country:'Avustralya',nationality:'Avustralyalı',flag:'au'}
  ];

  const countryNameEl=document.getElementById('countryName');
  const countryFlagEl=document.getElementById('countryFlag');
  const answerInput=document.getElementById('answerInput');
  const checkBtn=document.getElementById('checkBtn');
  const skipBtn=document.getElementById('skipBtn');
  const resultEl=document.getElementById('result');
  const scoreEl=document.getElementById('score');
  const countryListEl=document.getElementById('countryList');
  const newGameBtn=document.getElementById('newGame');
  const flagBox=document.getElementById('flagBox');
  const mainPanel=document.getElementById('mainPanel');

  let order=[]; let index=0; let correct=0; let total=0; let timeoutId=null;
  const norm=s=>s.toLowerCase().trim();

  function buildList(){
    countryListEl.innerHTML='';
    pairs.forEach(p=>{
      const div=document.createElement('div');
      div.innerHTML=`<span class="fi fi-${p.flag}"></span> ${p.country} → ${p.nationality}`;
      countryListEl.appendChild(div);
    });
  }
  function shuffle(){ order=pairs.map((_,i)=>i).sort(()=>Math.random()-0.5); index=0; correct=0; total=0; updateScore(); }
  function updateScore(){ scoreEl.textContent=`Score: ${correct} / ${total}`; }
  function showCountry(){
    const current=pairs[order[index]];
    countryNameEl.textContent=current.country;
    countryFlagEl.className=`fi fi-${current.flag}`;
    answerInput.value=''; resultEl.textContent='';
  }
  function check(){
    const current=pairs[order[index]];
    const answer=answerInput.value||'';
    if(!answer.trim()) return;
    total++; if(timeoutId) clearTimeout(timeoutId);
    if(norm(answer)===norm(current.nationality)){
      correct++; resultEl.innerHTML=`<span class="correct">✅ Correct — ${current.nationality}</span>`;
      mainPanel.classList.add('correct-anim'); flagBox.classList.add('correct-anim');
      setTimeout(()=>{ mainPanel.classList.remove('correct-anim'); flagBox.classList.remove('correct-anim'); },800);
    } else {
      resultEl.innerHTML=`<span class="wrong">❌ Faux — ${current.nationality}</span>`;
      mainPanel.classList.add('incorrect-anim'); flagBox.classList.add('incorrect-anim');
      setTimeout(()=>{ mainPanel.classList.remove('incorrect-anim'); flagBox.classList.remove('incorrect-anim'); },800);
    }
    updateScore(); timeoutId=setTimeout(()=>nextCountry(),2000);
  }
  function skip(){
    const current=pairs[order[index]];
    total++; resultEl.innerHTML=`<span class="wrong">⏭ Passé — ${current.nationality}</span>`;
    updateScore(); timeoutId=setTimeout(()=>nextCountry(),1500);
  }
  function nextCountry(){ index++; if(index>=order.length){ resultEl.innerHTML+='<div style="margin-top:8px">Fin de la série</div>'; } else { showCountry(); } }
  checkBtn.addEventListener('click',check);
  answerInput.addEventListener('keydown',e=>{ if(e.key==='Enter') check(); });
  skipBtn.addEventListener('click',skip);
  newGameBtn.addEventListener('click',()=>{ if(timeoutId) clearTimeout(timeoutId); shuffle(); showCountry(); });
  buildList(); shuffle(); showCountry();
})();
</script>
</body>
</html>
